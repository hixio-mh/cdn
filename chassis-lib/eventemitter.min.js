/**
  * v1.0.97 generated on: Sat Jul 09 2016 17:40:59 GMT+0000 (UTC)
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();if(!window.NGN)throw new Error("The EventEmitter class is dependent on the presence of NGN.");var EventEmitter=function(){function e(t){_classCallCheck(this,e),t=t||{},Object.defineProperties(this,{handlers:NGN["private"]({}),adhoc:NGN["private"]({}),maxlisteners:NGN["private"](t.defaultMaxListeners||10)})}return _createClass(e,[{key:"listenerCount",value:function(e){return(this.handlers[e]||[]).length+(this.adhoc[e]||[]).length}},{key:"getMaxListeners",value:function(){return this.defaultMaxListeners}},{key:"setMaxListeners",value:function(e){this.defaultMaxListeners=e}},{key:"eventNames",value:function(){var e=Object.keys(this.handlers),t=Object.keys(this.adhoc);return NGN.dedupe(e.concat(t))}},{key:"listeners",value:function(e){var t=this.handlers[e]||[],n=this.adhoc[e]||[];return t.concat(n)}},{key:"on",value:function(e,t,n){if(this.handlers[e]=this.handlers[e]||[],this.handlers[e][NGN.coalesce(n,!1)?"unshift":"push"](t),this.emit("newListener",e,t),this.listenerCount(e)>this.maxlisteners)throw new Error("Maximum event listeners exceeded. Use setMaxListeners() to adjust the level.")}},{key:"addListener",value:function(){this.on.apply(this,arguments)}},{key:"prependListener",value:function(){var e=NGN.slice(arguments).push(!0);this.on.apply(this,e)}},{key:"once",value:function(e,t,n){if(this.adhoc[e]=this.adhoc[e]||[],this.adhoc[e][NGN.coalesce(n,!1)?"unshift":"push"](t),this.emit("newListener",e,t),this.listenerCount(e)>this.maxlisteners)throw new Error("Maximum event listeners exceeded. Use setMaxListeners() to adjust the level.")}},{key:"prependOnceListener",value:function(){var e=NGN.slice(arguments).push(!0);this.once.apply(this,e)}},{key:"off",value:function(e,t){if(this.handlers[e]){if(!t)return void delete this.handlers[e];for(var n=this.handlers[e].indexOf(t);n>=0;)this.handlers[e].splice(n,1),this.emit("removeListener",e,t),n=this.handlers[e].indexOf(t);0===this.handlers[e].length&&delete this.handlers[e]}}},{key:"onceoff",value:function(e,t){if(this.adhoc[e]){if(!t)return void delete this.adhoc[e];for(var n=this.adhoc[e].indexOf(t);n>0;)this.adhoc.splice(n,1),n=this.adhoc[e].indexOf(t);0===this.adhoc[e].length&&delete this.adhoc[e]}}},{key:"removeListener",value:function(){this.off.apply(this,arguments),this.onceoff.apply(this,arguments)}},{key:"clear",value:function(){this.handlers={},this.adhoc={}}},{key:"removeAllListeners",value:function(){this.clear()}},{key:"emit",value:function(){var e=NGN.slice(arguments),t=e.shift(),n=this.getAllEvents(t),i={event:t};for(var s in n){var r=this.adhoc[n[s]];if(r)for(delete this.adhoc[n[s]];r.length>0;){var a=r.pop();i.handler=a,a.apply(i,e)}var h=this.handlers[n[s]];if(h)for(var o in h)i.handler=h[o],h[o].apply(i,e)}}},{key:"getAllEvents",value:function(e){var t=Object.keys(this.handlers),n=Object.keys(this.adhoc),i=NGN.dedupe(t.concat(n));return i=i.filter(function(t){return t===e||("regexp"===NGN["typeof"](t)||t.indexOf("*")>=0)&&("regexp"!==NGN["typeof"](t)&&(t=new RegExp(t.replace("*",".*","gi"))),t.test(e))})}},{key:"subscribers",get:function(){var e={};for(var t in this.handlers)e[t]={handler:this.handlers[t].length,adhoc:0};for(var n in this.adhoc)e[n]=e[n]||{handler:0},e[n].adhoc=this.adhoc[n].length;return e}},{key:"defaultMaxListeners",get:function(){return this.maxlisteners},set:function(e){this.maxlisteners=e}}]),e}();NGN.extend("EventEmitter",NGN["private"](EventEmitter)),NGN.inherit(Object.defineProperties({},{queued:NGN["private"]({}),pool:NGN["const"](function(e,t,n){"string"!=typeof e&&(t=e,e="");var i={};for(var s in t){var r=(e.trim()||"")+s;"function"==typeof t[s]?i[s]=this.on(r,t[s]):console.warn("%c"+r+"%c could not be pooled in the event emitter because it's value is not a function.",NGN.css,"")}n&&n(i)}),attach:NGN["const"](function(e,t){var n=this;return t=NGN.coalesce(t,!1),function(i){t&&i.hasOwnProperty("preventDefault")&&i.preventDefault();var s=NGN.slice(arguments);s.unshift(e),n.emit.apply(n,s)}}),bind:NGN["const"](function(e,t,n){t="string"==typeof t?[t]:t;var i=this,s=function(){var e=NGN.slice(arguments);n&&e.push(n);for(var s in t){var r=e.slice();r.unshift(t[s]),i.emit.apply(i,r)}};return this.on(e,s),{remove:function(){i.off(e,s)}}}),queue:NGN["const"](function(e,t){var n=this,i=arguments;this.queued.hasOwnProperty(e)||!function(){var s=n,r=NGN.slice(i);r.splice(1,1),n.queued[e]=setTimeout(function(){delete s.queued[e],s.emit.apply(s,r)},t)}()})}),NGN.EventEmitter);
//# sourceMappingURL=https://ngnjs.github.io/cdn/assets/chassis-lib/sourcemaps/1.0.97/eventemitter.min.js.map