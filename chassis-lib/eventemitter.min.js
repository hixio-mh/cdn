/**
  * v1.0.122 generated on: Sun Aug 28 2016 22:15:56 GMT+0000 (UTC)
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();if(!window.NGN)throw new Error("The EventEmitter class is dependent on the presence of NGN.");var EventEmitter=function(){function e(t){_classCallCheck(this,e),t=t||{},Object.defineProperties(this,{handlers:NGN["private"]({}),adhoc:NGN["private"]({}),maxlisteners:NGN["private"](t.defaultMaxListeners||10)})}return _createClass(e,[{key:"listenerCount",value:function(e){return(this.handlers[e]||[]).length+(this.adhoc[e]||[]).length}},{key:"getMaxListeners",value:function(){return this.defaultMaxListeners}},{key:"setMaxListeners",value:function(e){this.defaultMaxListeners=e}},{key:"eventNames",value:function(){var e=Object.keys(this.handlers),t=Object.keys(this.adhoc);return NGN.dedupe(e.concat(t))}},{key:"listeners",value:function(e){var t=this.handlers[e]||[],n=this.adhoc[e]||[];return t.concat(n)}},{key:"on",value:function(e,t,n){if(this.handlers[e]=this.handlers[e]||[],this.handlers[e][NGN.coalesce(n,!1)?"unshift":"push"](t),this.emit("newListener",e,t),this.listenerCount(e)>this.maxlisteners)throw new Error("Maximum event listeners exceeded. Use setMaxListeners() to adjust the level.")}},{key:"addListener",value:function(){this.on.apply(this,arguments)}},{key:"prependListener",value:function(){var e=NGN.slice(arguments).push(!0);this.on.apply(this,e)}},{key:"once",value:function(e,t,n){if(this.adhoc[e]=this.adhoc[e]||[],this.adhoc[e][NGN.coalesce(n,!1)?"unshift":"push"](t),this.emit("newListener",e,t),this.listenerCount(e)>this.maxlisteners)throw new Error("Maximum event listeners exceeded. Use setMaxListeners() to adjust the level.")}},{key:"prependOnceListener",value:function(){var e=NGN.slice(arguments).push(!0);this.once.apply(this,e)}},{key:"off",value:function(e,t){this.deleteEventHandler("handlers",e,t)}},{key:"onceoff",value:function(e,t){this.deleteEventHandler("adhoc",e,t)}},{key:"deleteEventHandler",value:function(e,t,n){var i=this[e];if(i[t]){var r=function(){if(!n)return delete i[t],{v:void 0};var e=[];return i[t].forEach(function(t){t.toString()!==n.toString()&&e.push(t)}),0===e.length?(delete i[t],{v:void 0}):void(i[t]=e)}();if("object"===("undefined"==typeof r?"undefined":_typeof(r)))return r.v}}},{key:"removeListener",value:function(){this.off.apply(this,arguments),this.onceoff.apply(this,arguments)}},{key:"clear",value:function(){var e=this;arguments.length>0?NGN.slice(arguments).forEach(function(t){delete e.handlers[t],delete e.adhoc[t]}):(this.handlers={},this.adhoc={})}},{key:"removeAllListeners",value:function(){this.clear.apply(this,arguments)}},{key:"emit",value:function(){var e=NGN.slice(arguments),t=e.shift(),n=this.getAllEvents(t),i={event:t};for(var r in n){var s=this.adhoc[n[r]];if(s)for(delete this.adhoc[n[r]];s.length>0;){var a=s.pop();i.handler=a,a.apply(i,e)}var o=this.handlers[n[r]];if(o)for(var l in o)i.handler=o[l],o[l].apply(i,e)}}},{key:"getAllEvents",value:function(e){var t=Object.keys(this.handlers),n=Object.keys(this.adhoc),i=NGN.dedupe(t.concat(n));return i=i.filter(function(t){return t===e||("regexp"===NGN["typeof"](t)||t.indexOf("*")>=0)&&("regexp"!==NGN["typeof"](t)&&(t=new RegExp(t.replace("*",".*","gi"))),t.test(e))})}},{key:"subscribers",get:function(){var e={};for(var t in this.handlers)e[t]={handler:this.handlers[t].length,adhoc:0};for(var n in this.adhoc)e[n]=e[n]||{handler:0},e[n].adhoc=this.adhoc[n].length;return e}},{key:"defaultMaxListeners",get:function(){return this.maxlisteners},set:function(e){this.maxlisteners=e}}]),e}();NGN.extend("EventEmitter",NGN["private"](EventEmitter)),NGN.inherit(Object.defineProperties({},{queued:NGN["private"]({}),pool:NGN["const"](function(e,t,n){"string"!=typeof e&&(t=e,e="");var i={};for(var r in t){var s=(e.trim()||"")+r;"function"==typeof t[r]?i[r]=this.on(s,t[r]):console.warn("%c"+s+"%c could not be pooled in the event emitter because it's value is not a function.",NGN.css,"")}n&&n(i)}),attach:NGN["const"](function(e,t){var n=this;return t=NGN.coalesce(t,!1),function(i){t&&i.hasOwnProperty("preventDefault")&&i.preventDefault();var r=NGN.slice(arguments);r.unshift(e),n.emit.apply(n,r)}}),bind:NGN["const"](function(e,t,n){t="string"==typeof t?[t]:t;var i=this,r=function(){var e=NGN.slice(arguments);n&&e.push(n);for(var r in t){var s=e.slice();s.unshift(t[r]),i.emit.apply(i,s)}};return this.on(e,r),{remove:function(){i.off(e,r)}}}),queue:NGN["const"](function(e,t){var n=this,i=arguments;this.queued.hasOwnProperty(e)||!function(){var r=n,s=NGN.slice(i);s.splice(1,1),n.queued[e]=setTimeout(function(){delete r.queued[e],r.emit.apply(r,s)},t)}()})}),NGN.EventEmitter);
//# sourceMappingURL=https://ngnjs.github.io/cdn/assets/chassis-lib/sourcemaps/1.0.122/eventemitter.min.js.map