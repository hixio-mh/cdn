/**
  * v1.0.65 generated on: Sat Jul 02 2016 20:12:37 GMT+0000 (UTC)
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},parser=new DOMParser;NGN.NET={},Object.defineProperties(NGN.NET,{xhr:NGN.privateconst(function(t){var e=void 0;return window.XMLHttpRequest&&(e=new XMLHttpRequest),e.onreadystatechange=function(){4===e.readyState&&t&&t(e)},e}),run:NGN.privateconst(function(t,e,n){var r=this.xhr(n);r.open(t,e,!0),r.send()}),applyRequestSettings:NGN.privateconst(function(t,e){if(!t||!e)throw new Error("No XHR or configuration object defined.");if(e.params){var n=Object.keys(e.params).map(function(t){return t+"="+encodeURIComponent(e.params[t])});e.url+="?"+n.join("&")}t.open(e.method||"POST",e.url,!0),e.header=e.header||e.headers||{},Object.keys(e.header).forEach(function(n){t.setRequestHeader(n,e.header[n])});var r=null;return e.json?((!e.header||e.header&&!e.header["Content-Type"])&&t.setRequestHeader("Content-Type","application/jsoncharset=UTF-8"),r=JSON.stringify(e.json).trim()):e.body?((!e.header||e.header&&!e.header["Content-Type"])&&t.setRequestHeader("Content-Type","application/text"),r=e.body):e.form&&(r=new FormData,Object.keys(e.form).forEach(function(t){r.append(t,e.form[t])})),e.withCredentials&&(t.withCredentials=e.withCredentials),e.username&&e.password?t.setRequestHeader("Authorization","Basic "+btoa(e.username+":"+e.password)):e.accessToken&&t.setRequestHeader("Authorization","Bearer "+e.accessToken),r}),send:NGN["const"](function(t,e){t=t||{};var n=this.xhr(e),r=this.applyRequestSettings(n,t);n.send(r)}),prepend:NGN.privateconst(function(t,e){return t=NGN.slice(t),t.unshift(e),t}),get:NGN["const"](function(){if("object"===_typeof(arguments[0])){var t=arguments[0];return t.method="GET",t.url="string"==typeof arguments[1]?arguments[1]:t.url,t.url.substr(0,4)&&NGN.nodelike?arguments[arguments.length-1](this.getFile(t.url)):this.send(t,arguments[arguments.length-1])}return arguments[0].substr(0,4)&&NGN.nodelike?arguments[arguments.length-1](this.getFile(arguments[0])):void this.run.apply(this.run,this.prepend(arguments,"GET"))}),getFile:NGN.privateconst(function(t){var e={status:require("fs").existsSync(t.replace("file://",""))?200:400};return e.responseText=200===e.status?require("fs").readFileSync(t.replace("file://","")).toString():"File could not be found.",e}),head:NGN["const"](function(t,e){if("object"===_typeof(arguments[0])){var n=arguments[0];return n.method="HEAD",n.url="string"==typeof arguments[1]?arguments[1]:n.url,this.send(n,arguments[arguments.length-1])}this.run.apply(this.run,this.prepend(arguments,"HEAD"))}),put:NGN["const"](function(t,e){t=t||{},t.method="PUT",t.url=t.url||window.location,this.send(t,e)}),post:NGN["const"](function(t,e){t=t||{},t.method="POST",t.url=t.url||window.location,this.send(t,e)}),"delete":NGN["const"](function(){this.run.apply(this.run,this.prepent(arguments,"DELETE"))}),json:NGN["const"](function(t,e,n){"string"==typeof t&&(n=e,e=t,t=null),null===t?this.run("GET",e,function(t){if(200!==t.status)throw Error("Could not retrieve JSON data from "+e+" (Status Code: "+t.status+").");try{t.json=JSON.parse(t.responseText)}catch(r){t.json=null}n&&n(t.json)}):(t.url=e,this.get(t,function(t){if(200!==t.status)throw Error("Could not retrieve JSON data from "+e+" (Status Code: "+t.status+").");try{t.json=JSON.parse(t.responseText)}catch(r){t.json=null}n&&n(t.json)}))}),normalizeUrl:NGN.privateconst(function(t){var e=[];return t.split("/").forEach(function(t){".."===t?e.pop():"."!==t&&e.push(t)}),e.join("/")}),"import":NGN["const"](function(t,e,n){var r=this;if(Array.isArray(t)){var o=function(){var o=r,i=new Array(t.length),s=0;return t.forEach(function(t,e){o["import"](t,function(t){i[e]=t,s++},n)}),e&&!function(){var n=setInterval(function(){s===t.length&&(clearInterval(n),e(i))},5)}(),{v:void 0}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}var i=null;try{!function(){i=t.split("/").pop().split("?")[0].split(".").pop().toLowerCase();var n=void 0;"js"===i?(n=document.createElement("script"),n.setAttribute("type","text/javascript"),n.setAttribute("src",t)):"css"===i&&(n=document.createElement("link"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",t)),n.onload="function"==typeof e?function(){e(n)}:function(){},document.getElementsByTagName("head")[0].appendChild(n)}()}catch(s){}if(!(["js","css"].indexOf((i||"").trim().toLowerCase())>=0)){if(n="boolean"==typeof n&&n,"http"!==t.substr(0,4)){var a=window.location.href.split("/");a.pop(),t=a.join("/")+"/"+t}if(!n&&this.importCache.hasOwnProperty(t)){var c=this.createElement(this.importCache[t]);return e&&e(1===c.length?c[0]:c),void(window.NGN.BUS&&window.NGN.BUS.emit("html.import",1===c.length?c[0]:c))}var p=this;this.get(t,function(n){if(200!==n.status)return console.warn("Check the file path of the snippet that needs to be imported. "+t+" could not be found ("+n.status+")");var r=p.createElement(n.responseText);if(p.importCache[t]=n.responseText,0===r.length)console.warn(p.normalizeUrl(t)+" import has no HTML tags."),e&&e(n.responseText),window.NGN.BUS&&window.NGN.BUS.emit("html.import",n.responseText);else{var o=1===r.length?r[0]:r;e&&e(o),window.NGN.BUS&&window.NGN.BUS.emit("html.import",o)}})}}),processImport:NGN.privateconst(function(t,e,n,r){r=void 0!==r&&r,this["import"](t,function(t){if("string"==typeof t)t=document.createTextNode(t);else if(t.length){var o=function(){var o=[];return NGN.slice(t).forEach(function(t){r?(o.push(e.parentNode.insertBefore(t,e)),e=t):o.push(e.appendChild(t))}),n&&n(o),{v:void 0}}();if("object"===("undefined"==typeof o?"undefined":_typeof(o)))return o.v}r?e.parentNode.insertBefore(t,e):e.appendChild(t),n&&n(t)})}),importTo:NGN["const"](function(t,e,n){this.processImport(t,e,n)}),importBefore:NGN["const"](function(t,e,n){this.processImport(t,e,n,!0)}),domainRoot:NGN.privateconst(function(t){var e=t.search(/^https?\:\/\//)!==-1?t.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i,""):t.match(/^([^\/?#]+)(?:[\/?#]|$)/i,"");return null===e||e[1].length<3?window.location.host:e[1]}),isCrossOrigin:NGN.privateconst(function(t){return this.domainRoot(t)!==window.location.host}),prelink:NGN.privateconst(function(t,e,n){var r=document.createElement("link");r.rel=e,r.href="http"!==t.substr(0,4)?this.normalizeUrl(window.location.origin+window.location.pathname+t):t,NGN.coalesce(n,this.isCrossOrigin(t))&&r.setAttribute("crossorigin","true"),document.head.appendChild(r),NGN.emit("network."+e)}),predns:NGN["const"](function(t,e){this.prelink(window.location.protocol+"//"+t,"dns-prefetch",e)}),preconnect:NGN["const"](function(t,e){this.prelink(t,"preconnect",e)}),prefetch:NGN["const"](function(t,e){this.prelink(t,"prefetch",e)}),subresource:NGN["const"](function(t,e){this.prelink(t,"subresource",e)}),prerender:NGN["const"](function(t,e){this.prelink(t,"prerender",e)}),template:NGN["const"](function(t,e,n){t=this.normalizeUrl(t),"function"==typeof e&&(n=e,e={}),e=e||{};var r=this,o=void 0;return this.importCache.hasOwnProperty(t)?(o=this.importCache[t],this.applyData(o,e,n)):void this.get(t,function(o){var i=null;try{i=t.split("/").pop().split("?")[0].split(".").pop().toLowerCase()}catch(s){}return["js","css"].indexOf((i||"").trim().toLowerCase())>=0?void console.warn("Cannot use a ."+i+" file as a template. Only HTML templates are supported."):(r.importCache[t]=o.responseText,void r.applyData(o.responseText,e,n))})}),importCache:NGN.define(!1,!0,!1,{}),createElement:NGN.privateconst(function(t){return parser.parseFromString(t,"text/html").querySelector("body").children}),applyData:NGN.privateconst(function(t,e,n){if(void 0===t)return console.warn("Empty template."),void(n&&n());Object.keys(e).forEach(function(n){var r=new RegExp("{{"+n+"}}","gm");t=t.replace(r,e[n])}),t=t.replace(/(\{\{.*\}\})/gm,"");var r=this.createElement(t);n&&n(r[0])})});