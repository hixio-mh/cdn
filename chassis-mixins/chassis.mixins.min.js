/**
  * v0.0.4 generated on: Sun Jul 31 2016 00:17:03 GMT+0000 (UTC)
  * Copyright (c) 2014-2016, Ecor Ventures LLC. All Rights Reserved. See LICENSE (BSD).
  */
"use strict";window.chassis={},Object.defineProperties(window.chassis,{apply:{enumerable:!0,writable:!1,configurable:!1,value:function(){var e=this.core.spliceArgs(arguments),t=e.shift();this[t](e)}}}),Object.defineProperty(window.chassis,"core",{enumerable:!1,writable:!1,configurable:!1,value:{getObjectPrototype:function(e){return Object.hasOwnProperty("getPrototypeOf")?Object.getPrototypeOf(e):e.hasOwnProperty("__proto__")?e.__proto__:e.hasOwnProperty("prototype")?e.prototype:e},deduplicate:function(e){return e.filter(function(e,t,i){return i.indexOf(e)===t})},spliceArgs:function(e){var t=[],i=Array.prototype.slice.call(e);return i.forEach(function(e){e instanceof Array?t=t.concat(e):t.push(e)}),t},emit:function(e,t,i){var r;try{r=i?new CustomEvent(t,{detail:i}):new CustomEvent(t)}catch(a){if(console.log(a),r=document.createEvent("Event"),i)try{r.initCustomEvent(t,!0,!0,{detail:i})}catch(n){r.initEvent(t,!0,!0),r.detail=i}else r.initEvent(t,!0,!0)}e.dispatchEvent(r)},createChildDomMonitor:function(e,t,i){var r=new MutationObserver(function(i){for(var r in i)"childList"===i[r].type&&t(e,i[r])});return r.observe(e,{childList:!0,attributes:!1,characterData:!1,subtree:"boolean"==typeof i&&i}),r}}}),Object.defineProperties(window.chassis,{listinput:{enumerable:!0,writable:!1,configurable:!1,value:function(){var e=this;chassis.core.spliceArgs(arguments).forEach(function(t){"string"==typeof t?document.querySelectorAll(t).forEach(function(t){e.applyListInput(t)}):t instanceof HTMLElement?e.applyListInput(t):(console.warn("Could not apply listinput to element. Element is not a valid HTMLElement or CSS selector."),console.log(t))})}},applyListInput:{enumerable:!1,writable:!1,configurable:!1,value:function(e){if(Object.defineProperties(chassis.core.getObjectPrototype(e),{listData:{enumerable:!1,writable:!0,configurable:!1,value:[]},separator:{enumerable:!1,writable:!0,configurable:!1,value:e.attributes.hasOwnProperty("separator")?e.getAttribute("separator"):","},deduplicate:{enumerable:!1,writable:!0,configurable:!1,value:!e.attributes.hasOwnProperty("deduplicate")||"true"===e.getAttribute("deduplicate")},deduplicateInput:{enumerable:!1,writable:!0,configurable:!1,value:e.attributes.hasOwnProperty("deduplicateInput")?"true"===e.getAttribute("deduplicateInput"):!e.attributes.hasOwnProperty("deduplicate")||"true"===e.getAttribute("deduplicate")}}),e.attributes.hasOwnProperty("for")){var t=document.querySelector("#"+e.getAttribute("for"));if(null===t)throw new Error("The specified DOM element, "+e.getAttribute("for")+", could not be found or does not exist.");chassis.core.createChildDomMonitor(e,function(t){chassis.core.emit(e,"domchange",t)})}e.addEventListener("keyup",function(t){"Enter"===t.code&&e.submit()}),Object.defineProperties(chassis.core.getObjectPrototype(e),{data:{enumerable:!0,get:function(){return this.listData}},filesource:{enumerable:!0,get:function(){return e}},inputField:{enumerable:!0,get:function(){return e}},browse:{value:function(){"file"===this.getAttribute("type")&&this.filesource.click()}},submit:{enumerable:!1,value:function(){var e=this.splitInput(this.inputField.value);return 0===e.length?void(this.inputField.value=""):(this.deduplicate&&(e=chassis.core.deduplicate(e)),this.inputField.value="",void(0!==e.length&&this.append(e)))}},splitInput:{enumerable:!1,value:function(e){var t=this;return e=e.replace(this.separator instanceof RegExp?this.separator:new RegExp(this.separator+"{1,1000}","gi"),this.separator).split(this.separator).map(function(e){return e.toString().trim()}).filter(function(e,i,r){return(!t.deduplicateInput||r.indexOf(e)===i)&&e.toString().length>0})}},append:{enumerable:!0,value:function(){if(0===arguments.length)throw new Error("addData requires at least one argument.");var e=chassis.core.spliceArgs(arguments);this.deduplicate&&(e=chassis.core.deduplicate(e)),this.listData=this.listData.concat(e),this.deduplicate&&(this.listData=chassis.core.deduplicate(this.listData)),chassis.core.emit(this,"append",{data:e}),chassis.core.emit(this,"update",{created:e,deleted:[],modified:[]})}},remove:{enumerable:!0,value:function(){if(0===arguments.length)return this.clear();if(null===arguments[0]||arguments[0]===-1)return this.clear();var e=chassis.core.spliceArgs(arguments),t=[];this.listData=this.listData.filter(function(i,r){return e.indexOf(r)<0||(t.push(i),!1)}),chassis.core.emit(this,"remove",{data:t}),chassis.core.emit(this,"update",{created:[],deleted:t,modified:[]})}},clear:{enumerable:!0,value:function(){var e=this.listData;this.listData=[],chassis.core.emit(this,"remove",{data:e}),chassis.core.emit(this,"update",{created:[],deleted:e,modified:[]})}},setItem:{enumerable:!0,value:function(e,t){if(e>=this.listData.length||e<0)throw new Error("Index out of bounds. Must be between 0 and the size of the list (current max value: "+(0===this.listData.length?0:this.listData.length-1)+")");var i=this.listData[e];this.listData[e]=t,chassis.core.emit(this,"modified",{index:e,old:i,"new":this.listData[e]}),chassis.core.emit(this,"update",{created:[],deleted:[],modified:[{old:i,"new":this.listData[e],index:e}]})}},indexOf:{enumerable:!0,writable:!1,configurable:!1,value:function(e){for(var t=-1,i=0;i<this.listData.length;i++)if(this.listData[i]===e){t=i;break}return t}}})}}});
//# sourceMappingURL=https://ngnjs.github.io/cdn/assets/chassis-mixins/sourcemaps/0.0.4/chassis.mixins.min.js.map